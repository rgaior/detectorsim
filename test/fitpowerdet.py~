from scipy.optimize import curve_fit
import numpy as np
import matplotlib.pyplot as plt

#specfreq = np.load('capameanspec.npz')
specfreq = np.load('nocapameanspec.npz')
spec = specfreq['spec']
freq = specfreq['freq']


#############################
###      fit of spec   ######
#############################
def func(x, k, j):
    a = 0.024
    return a*np.exp(-(k*x)) + j
#print freqM
guess = [1e-8,1e-4]
popt, pcov = curve_fit(func, freq, spec,p0=guess)
print popt
plt.plot(freq,spec)
plt.plot(freq,func(freq,1e-8,1e-2))
plt.plot(freq,func(freq,popt[0],popt[1]))

plt.show()
